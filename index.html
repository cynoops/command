<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' data:; script-src 'self'; connect-src 'self' data: blob:;"
  />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Electron Map App</title>

  <!-- Your main app styles -->
  <link rel="stylesheet" href="./styles.css" />

  <!-- Mapbox GL CSS (adjust the path if you bundle it locally) -->
  <!-- <link rel="stylesheet" href="./vendor/mapbox-gl.css" /> -->
</head>
<body>
  <div class="app">

    <!-- Header -->
    <header class="app-header">
      <div class="brand">
        <span class="brand-mark" aria-hidden="true">üó∫Ô∏è</span>
        <h1 class="brand-name">Map Console</h1>
      </div>

      <!-- Tabs (CSS-only) -->
      <input id="tab-map" type="radio" name="main-tabs" class="tab-input" checked />
      <input id="tab-settings" type="radio" name="main-tabs" class="tab-input" />

      <nav class="main-menu" role="tablist" aria-label="Main view">
        <label class="tab" for="tab-map" role="tab" aria-controls="view-map" aria-selected="true">MAP</label>
        <label class="tab" for="tab-settings" role="tab" aria-controls="view-settings" aria-selected="false">Settings</label>
      </nav>

      <!-- Right-side actions -->
      <div class="actions">
        <button id="serialConnectBtn" class="serial-btn" title="Connect to serial port" aria-label="Connect to serial port">
          <!-- Simple inline icon -->
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M7 7h10v4h-2v2h2v4H7v-4h2v-2H7V7zm4 4h2v2h-2v-2z" />
          </svg>
          <span class="serial-label">Connect</span>
          <span id="serialStatusDot" class="status-dot" data-state="disconnected" aria-live="polite"></span>
        </button>
      </div>
    </header>

    <!-- Main content -->
    <main class="app-main">
      <!-- MAP VIEW -->
      <section id="view-map" class="view view-map" role="tabpanel" aria-labelledby="tab-map">
        <div id="map" class="map-container" aria-label="Interactive map"></div>
        <!-- You‚Äôll initialize the map in your preload/renderer JS and update footer stats by ID -->
      </section>

      <!-- SETTINGS VIEW -->
      <section id="view-settings" class="view view-settings" role="tabpanel" aria-labelledby="tab-settings">
        <div class="panel">
          <h2>Settings</h2>
          <div class="form-grid">
            <label class="field">
              <span class="label">Map Style URL</span>
              <input id="settingStyleUrl" type="text" placeholder="mapbox://styles/your-style-id" />
            </label>
            <label class="field">
              <span class="label">Access Token</span>
              <input id="settingAccessToken" type="password" placeholder="pk.‚Ä¢‚Ä¢‚Ä¢" />
            </label>
            <label class="field">
              <span class="label">Start Position (lng, lat)</span>
              <input id="settingStartPos" type="text" placeholder="6.13, 49.61" />
            </label>
            <label class="field">
              <span class="label">Start Zoom</span>
              <input id="settingStartZoom" type="number" min="0" max="22" step="0.1" value="12" />
            </label>
            <label class="field">
              <span class="label">Serial Baud Rate</span>
              <input id="settingBaud" type="number" step="1" placeholder="115200" />
            </label>
            <label class="field">
              <span class="label">Auto-reconnect Serial</span>
              <select id="settingAutoReconnect">
                <option value="off">Off</option>
                <option value="on" selected>On</option>
              </select>
            </label>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer: map & data stats -->
    <footer class="app-footer" aria-live="polite">
      <div class="stat"><span class="k">Zoom</span><span id="statZoom" class="v">‚Äî</span></div>
      <div class="stat"><span class="k">Center</span><span id="statCenter" class="v">‚Äî</span></div>
      <div class="stat"><span class="k">Bearing</span><span id="statBearing" class="v">‚Äî</span></div>
      <div class="stat"><span class="k">Pitch</span><span id="statPitch" class="v">‚Äî</span></div>
      <div class="stat"><span class="k">Layer</span><span id="statLayer" class="v">‚Äî</span></div>
      <div class="stat"><span class="k">Serial</span><span id="statSerial" class="v">disconnected</span></div>
      <div class="stat"><span class="k">RX</span><span id="statRxRate" class="v">0/s</span></div>
    </footer>
  </div>

  <!-- Your renderer bundle goes here if needed -->
  <!-- <script src="./renderer.js"></script> -->
</body>
</html>
